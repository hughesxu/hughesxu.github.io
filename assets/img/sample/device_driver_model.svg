<svg width="2606" height="1815" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M679 815 3285 815 3285 2630 679 2630Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-679 -815)"><rect x="1626" y="937" width="733" height="640" stroke="#000000" stroke-width="4" stroke-linejoin="round" stroke-miterlimit="10" fill="none"/><path d="M1683.9 1132.57 1914.9 1132.57 1914.9 1181.57 1683.9 1181.57Z" fill="#FFFF00" fill-rule="evenodd"/><path d="M1914.9 1132.57 2274.24 1132.57 2274.24 1181.57 1914.9 1181.57Z" fill="#FFFF00" fill-rule="evenodd"/><text font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="700" font-size="37" transform="translate(1959.07 975)">Bus<tspan font-weight="400" font-size="32" x="-323.167" y="69">platform_bus_type</tspan><tspan font-weight="400" font-size="32" x="-323.167" y="107">{</tspan><tspan font-weight="400" font-size="32" x="-275.167" y="146">...</tspan><tspan font-size="43" x="-275.167" y="193">.match = </tspan><tspan font-size="43" x="-44.1666" y="193">platform_match</tspan><tspan font-weight="400" font-size="32" x="-275.167" y="235">...</tspan><tspan font-weight="400" font-size="32" x="-275.167" y="274">.p</tspan><tspan font-weight="400" font-size="32" x="-217.667" y="274">=</tspan><tspan font-weight="400" font-size="32" x="-179.333" y="274">{</tspan><tspan font-weight="400" font-size="32" x="-227.167" y="312">...</tspan><tspan font-weight="400" font-size="32" x="-227.167" y="350">.</tspan><tspan font-weight="400" font-size="32" x="-208" y="350">klist_devices</tspan><tspan font-weight="400" font-size="32" x="41.1667" y="350">;</tspan><tspan font-weight="400" font-size="32" x="-227.167" y="389">.</tspan><tspan font-weight="400" font-size="32" x="-208" y="389">klist_drivers</tspan><tspan font-weight="400" font-size="32" x="41.1667" y="389">;</tspan><tspan font-weight="400" font-size="32" x="-227.167" y="427">.devices_kset;</tspan><tspan font-weight="400" font-size="32" x="-227.167" y="466">.</tspan><tspan font-weight="400" font-size="32" x="-208" y="466">drivers_kset</tspan><tspan font-weight="400" font-size="32" x="22" y="466">;</tspan><tspan font-weight="400" font-size="32" x="-227.167" y="504">...</tspan><tspan font-weight="400" font-size="32" x="-275.167" y="542">};</tspan><tspan font-weight="400" font-size="32" x="-323.167" y="581">};</tspan></text><rect x="738" y="1981" width="751" height="640" stroke="#000000" stroke-width="4" stroke-linejoin="round" stroke-miterlimit="10" fill="none"/><text font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="700" font-size="37" transform="translate(1046.51 2019)">Driver<tspan font-weight="400" font-size="32" x="-298.913" y="69">platform</tspan><tspan font-weight="400" font-size="32" x="-145.58" y="69">_driver</tspan><tspan font-size="32" x="7.75342" y="69">globalfifo_driver</tspan><tspan font-weight="400" font-size="32" x="-298.913" y="107">{</tspan><tspan font-weight="400" font-size="32" x="-250.913" y="146">...</tspan><tspan fill="#FF0000" font-size="43" x="-250.913" y="193">.probe </tspan><tspan fill="#FF0000" font-size="43" x="-71.2466" y="193">= </tspan><tspan fill="#FF0000" font-size="43" x="-19.9133" y="193">globalfifo_probe</tspan><tspan font-weight="400" font-size="32" x="-250.913" y="235">...</tspan><tspan font-weight="400" font-size="32" x="-250.913" y="274">.driver = {</tspan><tspan font-weight="400" font-size="32" x="-202.913" y="312">.name</tspan><tspan font-weight="400" font-size="32" x="-87.9133" y="312">=</tspan><tspan font-weight="400" font-size="32" x="-49.58" y="312">"</tspan><tspan font-size="32" x="-30.4133" y="312">globalfifo_platform</tspan><tspan font-weight="400" font-size="32" x="333.753" y="312">"</tspan><tspan font-weight="400" font-size="32" x="-202.913" y="350">.</tspan><tspan font-weight="400" font-size="32" x="-183.747" y="350">p = {</tspan><tspan font-weight="400" font-size="32" x="-154.913" y="389">...</tspan><tspan font-weight="400" font-size="32" x="-154.913" y="427">.</tspan><tspan font-weight="400" font-size="32" x="-135.747" y="427">klist_devices</tspan><tspan font-weight="400" font-size="32" x="113.42" y="427">;</tspan><tspan font-weight="400" font-size="32" x="-154.913" y="466">...</tspan><tspan font-weight="400" font-size="32" x="-202.913" y="504">};</tspan><tspan font-weight="400" font-size="32" x="-250.913" y="542">}</tspan><tspan font-weight="400" font-size="32" x="-298.913" y="581">};</tspan></text><rect x="2359" y="2178" width="700" height="317" stroke="#000000" stroke-width="4" stroke-linejoin="round" stroke-miterlimit="10" fill="none"/><text font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="700" font-size="37" transform="translate(2641.93 2216)">Device<tspan font-weight="400" font-size="32" x="-273.333" y="69">platform_</tspan><tspan font-weight="400" font-size="32" x="-100.833" y="69">device</tspan><tspan font-size="32" x="33.3335" y="69">globalfifo</tspan><tspan font-size="32" x="225" y="69">_device</tspan><tspan font-weight="400" font-size="32" x="-273.333" y="107">{</tspan><tspan font-weight="400" font-size="32" x="-225.333" y="146">...</tspan><tspan font-weight="400" font-size="32" x="-225.333" y="184">.name = “</tspan><tspan font-size="32" x="-52.8333" y="184">globalfifo_platform</tspan><tspan font-weight="400" font-size="32" x="311.333" y="184">”</tspan><tspan font-weight="400" font-size="32" x="-225.333" y="222">...</tspan><tspan font-weight="400" font-size="32" x="-273.333" y="261">};</tspan><tspan fill="#353A3D" font-family="DengXian,DengXian_MSFontService,sans-serif" font-size="32" x="-721.114" y="-1360">总线注册流程：</tspan><tspan fill="#353A3D" font-size="32" x="-1016.61" y="-1322">bus_register</tspan><tspan fill="#353A3D" font-size="32" x="-786.614" y="-1322">(&amp;</tspan><tspan fill="#353A3D" font-size="32" x="-748.281" y="-1322">platform_bus_type</tspan><tspan fill="#353A3D" font-size="32" x="-422.448" y="-1322">)</tspan><tspan font-family="DengXian,DengXian_MSFontService,sans-serif" font-size="32" x="-1549.66" y="-584">驱动注册流程：</tspan><tspan font-size="32" x="-1942.66" y="-546">platform_driver_register</tspan><tspan font-size="32" x="-1482.66" y="-546">(&amp;</tspan><tspan font-size="32" x="-1444.33" y="-546">globalfifo_driver</tspan><tspan font-size="32" x="-1118.5" y="-546">)</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-1942.66" y="-508">driver_register</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-1655.16" y="-508">(&amp;(</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-1597.66" y="-508">globalfifo_driver.driver</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-1137.66" y="-508">))</tspan><tspan fill="#333333" font-weight="400" font-size="32" x="-1942.66" y="-470">bus_add_driver</tspan><tspan fill="#333333" font-weight="400" font-size="32" x="-1674.33" y="-470">(&amp;(</tspan><tspan fill="#333333" font-weight="400" font-size="32" x="-1616.83" y="-470">globalfifo_driver.driver</tspan><tspan fill="#333333" font-weight="400" font-size="32" x="-1156.83" y="-470">))</tspan><tspan font-weight="400" font-size="32" x="-1942.66" y="-393">driver_attach</tspan><tspan font-weight="400" font-size="32" x="-1693.5" y="-393">(&amp;(</tspan><tspan font-weight="400" font-size="32" x="-1636" y="-393">globalfifo_driver.driver</tspan><tspan font-weight="400" font-size="32" x="-1176" y="-393">))</tspan><tspan font-weight="400" font-size="32" x="-1942.66" y="-354">driver_match_device</tspan><tspan font-weight="400" font-size="32" x="-1578.5" y="-354">(</tspan><tspan font-weight="400" font-size="32" x="-1559.33" y="-354">drv</tspan><tspan font-weight="400" font-size="32" x="-1501.83" y="-354">, dev)</tspan><tspan font-family="Wingdings,Wingdings_MSFontService,sans-serif" font-weight="400" font-size="32" x="-1348.5" y="-354"></tspan><tspan font-weight="400" font-size="32" x="-1298" y="-354">platform_match</tspan><tspan font-weight="400" font-size="32" x="-1029.66" y="-354">()</tspan><tspan font-weight="400" font-size="32" x="-1942.66" y="-315">device_driver_attach</tspan><tspan font-weight="400" font-size="32" x="-1559.33" y="-315">(</tspan><tspan font-weight="400" font-size="32" x="-1540.16" y="-315">drv</tspan><tspan font-weight="400" font-size="32" x="-1482.66" y="-315">, dev)</tspan><tspan font-family="Wingdings,Wingdings_MSFontService,sans-serif" font-weight="400" font-size="32" x="-1348.5" y="-315"></tspan><tspan font-weight="400" font-size="32" x="-1942.66" y="-278">driver_probe_device</tspan><tspan font-weight="400" font-size="32" x="-1578.5" y="-278">(</tspan><tspan font-weight="400" font-size="32" x="-1559.33" y="-278">drv</tspan><tspan font-weight="400" font-size="32" x="-1501.83" y="-278">, dev)</tspan><tspan font-family="DengXian,DengXian_MSFontService,sans-serif" font-size="32" x="33.3335" y="-570">设备注册流程：</tspan><tspan font-size="32" x="-342.333" y="-532">platform_device_register</tspan><tspan font-size="32" x="117.667" y="-532">(&amp;</tspan><tspan font-size="32" x="156" y="-532">globalfifo_device</tspan><tspan font-size="32" x="481.833" y="-532">)</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-342.333" y="-494">device_initialize</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-16.4998" y="-494">(</tspan><tspan font-weight="400" font-size="32" x="2.66675" y="-494">&amp;</tspan><tspan font-weight="400" font-size="32" x="21.8335" y="-494">globalfifo_device.</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="366.833" y="-494">dev</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="424.333" y="-494">)</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-342.333" y="-456">platform_device_add</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="21.8335" y="-456">(</tspan><tspan font-weight="400" font-size="32" x="41.0002" y="-456">&amp;</tspan><tspan font-weight="400" font-size="32" x="60.1667" y="-456">globalfifo_device</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="386" y="-456">)</tspan><tspan fill="#333333" font-weight="400" font-size="32" x="-342.333" y="-417">device_add</tspan><tspan fill="#333333" font-weight="400" font-size="32" x="-150.667" y="-417">(&amp;(</tspan><tspan fill="#333333" font-weight="400" font-size="32" x="-93.1665" y="-417">globalfifo_device.dev</tspan><tspan fill="#333333" font-weight="400" font-size="32" x="309.333" y="-417">))</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-342.333" y="-379">bus_add_device</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-73.9998" y="-379">(&amp;(</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-16.4998" y="-379">globalfifo_device.dev</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="386" y="-379">))</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-342.333" y="-340">bus_probe_device</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-35.6665" y="-340">(&amp;(</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="21.8335" y="-340">globalfifo_device.dev</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="424.333" y="-340">))</tspan><tspan font-weight="400" font-size="32" x="-342.333" y="-264">device_initial_probe</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="41.0002" y="-264">(&amp;(</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="98.5002" y="-264">globalfifo_device.dev</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="501" y="-264">))</tspan><tspan font-weight="400" font-size="32" x="-342.333" y="-225">__</tspan><tspan font-weight="400" font-size="32" x="-304" y="-225">device_attach</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-54.8333" y="-225">(&amp;(</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="2.66675" y="-225">globalfifo_device.dev</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="405.167" y="-225">), </tspan><tspan font-weight="400" font-size="32" x="462.667" y="-225">true)</tspan><tspan font-weight="400" font-size="32" x="-342.333" y="-187">__</tspan><tspan font-weight="400" font-size="32" x="-304" y="-187">device_attach_driver</tspan><tspan font-weight="400" font-size="32" x="79.3335" y="-187">(&amp;(</tspan><tspan font-weight="400" font-size="32" x="136.833" y="-187">globalfifo_driver.driver</tspan><tspan font-weight="400" font-size="32" x="596.833" y="-187">)</tspan><tspan font-weight="400" font-size="32" x="-342.333" y="-148">)</tspan><tspan font-weight="400" font-size="32" x="-342.333" y="-109">driver_match_device</tspan><tspan font-weight="400" font-size="32" x="21.8335" y="-109">(</tspan><tspan font-weight="400" font-size="32" x="41.0002" y="-109">drv</tspan><tspan font-weight="400" font-size="32" x="98.5002" y="-109">, dev)  </tspan><tspan font-family="Wingdings,Wingdings_MSFontService,sans-serif" font-weight="400" font-size="32" x="251.833" y="-109"></tspan><tspan font-weight="400" font-size="32" x="302.333" y="-109">platform_match</tspan><tspan font-weight="400" font-size="32" x="570.667" y="-109">()</tspan><tspan font-weight="400" font-size="32" x="-342.333" y="-72">driver_probe_device</tspan><tspan font-weight="400" font-size="32" x="21.8335" y="-72">(</tspan><tspan font-weight="400" font-size="32" x="41.0002" y="-72">drv</tspan><tspan font-weight="400" font-size="32" x="98.5002" y="-72">, dev)</tspan></text><path d="M2.22312-0.70864 199.783 619.071 195.337 620.489-2.22312 0.70864ZM203.521 615.43 203.938 639.788 190.182 619.682Z" fill="#7F6000" transform="matrix(1 0 0 -1 1515.5 1821.29)"/><path d="M2356.98 1975.16 2069.63 1202 2074 1200.37 2361.36 1973.53ZM2066.07 1205.81 2064.5 1181.5 2079.19 1200.93Z" fill="#7F6000"/><path d="M2.10384-1.0091 143.022 292.785 138.814 294.803-2.10384 1.0091ZM146.22 288.663 150 312.729 133.597 294.718Z" fill="#FFC000" transform="matrix(-1 -8.74228e-08 -8.74228e-08 1 1452.5 1879.5)"/><path d="M0.440625-2.29135 897.952 170.299 897.071 174.882-0.440625 2.29135ZM896.542 165.276 918.133 176.556 893.898 179.024Z" fill="#FFC000" transform="matrix(-1 -8.74228e-08 -8.74228e-08 1 2370.63 2015.5)"/></g></svg>