<svg width="2633" height="1815" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="hidden"><defs><clipPath id="clip0"><path d="M679 815 3312 815 3312 2630 679 2630Z" fill-rule="evenodd" clip-rule="evenodd"/></clipPath></defs><g clip-path="url(#clip0)" transform="translate(-679 -815)"><rect x="1626" y="937" width="733" height="640" stroke="#000000" stroke-width="4" stroke-linejoin="round" stroke-miterlimit="10" fill="none"/><path d="M1683.9 1132.57 1914.9 1132.57 1914.9 1181.57 1683.9 1181.57Z" fill="#FFFF00" fill-rule="evenodd"/><path d="M1914.9 1132.57 2274.24 1132.57 2274.24 1181.57 1914.9 1181.57Z" fill="#FFFF00" fill-rule="evenodd"/><text font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="700" font-size="37" transform="translate(1959.07 975)">Bus<tspan font-weight="400" font-size="32" x="-323.167" y="69">platform_bus_type</tspan><tspan font-weight="400" font-size="32" x="-323.167" y="107">{</tspan><tspan font-weight="400" font-size="32" x="-275.167" y="146">...</tspan><tspan font-size="43" x="-275.167" y="193">.match = </tspan><tspan font-size="43" x="-44.1666" y="193">platform_match</tspan><tspan font-weight="400" font-size="32" x="-275.167" y="235">...</tspan><tspan font-weight="400" font-size="32" x="-275.167" y="274">.p = {</tspan><tspan font-weight="400" font-size="32" x="-227.167" y="312">...</tspan><tspan font-weight="400" font-size="32" x="-227.167" y="350">.</tspan><tspan font-weight="400" font-size="32" x="-208" y="350">klist_devices</tspan><tspan font-weight="400" font-size="32" x="41.1667" y="350">;</tspan><tspan font-weight="400" font-size="32" x="-227.167" y="389">.</tspan><tspan font-weight="400" font-size="32" x="-208" y="389">klist_drivers</tspan><tspan font-weight="400" font-size="32" x="41.1667" y="389">;</tspan><tspan font-weight="400" font-size="32" x="-227.167" y="427">.devices_kset;</tspan><tspan font-weight="400" font-size="32" x="-227.167" y="466">.</tspan><tspan font-weight="400" font-size="32" x="-208" y="466">drivers_kset</tspan><tspan font-weight="400" font-size="32" x="22" y="466">;</tspan><tspan font-weight="400" font-size="32" x="-227.167" y="504">...</tspan><tspan font-weight="400" font-size="32" x="-275.167" y="542">};</tspan><tspan font-weight="400" font-size="32" x="-323.167" y="581">};</tspan></text><rect x="738" y="1981" width="751" height="640" stroke="#000000" stroke-width="4" stroke-linejoin="round" stroke-miterlimit="10" fill="none"/><text font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="700" font-size="37" transform="translate(1046.51 2019)">Driver<tspan font-weight="400" font-size="32" x="-298.913" y="69">platform_driver</tspan><tspan font-size="32" x="7.75342" y="69">globalfifo_driver</tspan><tspan font-weight="400" font-size="32" x="-298.913" y="107">{</tspan><tspan font-weight="400" font-size="32" x="-250.913" y="146">...</tspan><tspan fill="#FF0000" font-size="43" x="-250.913" y="193">.probe = </tspan><tspan fill="#FF0000" font-size="43" x="-19.9133" y="193">globalfifo_probe</tspan><tspan font-weight="400" font-size="32" x="-250.913" y="235">...</tspan><tspan font-weight="400" font-size="32" x="-250.913" y="274">.driver = {</tspan><tspan font-weight="400" font-size="32" x="-202.913" y="312">.name = "</tspan><tspan font-size="32" x="-30.4133" y="312">globalfifo_platform</tspan><tspan font-weight="400" font-size="32" x="333.753" y="312">"</tspan><tspan font-weight="400" font-size="32" x="-202.913" y="350">.p = {</tspan><tspan font-weight="400" font-size="32" x="-154.913" y="389">...</tspan><tspan font-weight="400" font-size="32" x="-154.913" y="427">.</tspan><tspan font-weight="400" font-size="32" x="-135.747" y="427">klist_devices</tspan><tspan font-weight="400" font-size="32" x="113.42" y="427">;</tspan><tspan font-weight="400" font-size="32" x="-154.913" y="466">...</tspan><tspan font-weight="400" font-size="32" x="-202.913" y="504">};</tspan><tspan font-weight="400" font-size="32" x="-250.913" y="542">}</tspan><tspan font-weight="400" font-size="32" x="-298.913" y="581">};</tspan></text><rect x="2359" y="2178" width="700" height="317" stroke="#000000" stroke-width="4" stroke-linejoin="round" stroke-miterlimit="10" fill="none"/><text font-family="Courier New,Courier New_MSFontService,sans-serif" font-weight="700" font-size="37" transform="translate(2641.93 2216)">Device<tspan font-weight="400" font-size="32" x="-273.333" y="69">platform_device</tspan><tspan font-size="32" x="33.3335" y="69">globalfifo_device</tspan><tspan font-weight="400" font-size="32" x="-273.333" y="107">{</tspan><tspan font-weight="400" font-size="32" x="-225.333" y="146">...</tspan><tspan font-weight="400" font-size="32" x="-225.333" y="184">.name = “</tspan><tspan font-size="32" x="-52.8333" y="184">globalfifo_platform</tspan><tspan font-weight="400" font-size="32" x="311.333" y="184">”</tspan><tspan font-weight="400" font-size="32" x="-225.333" y="222">...</tspan><tspan font-weight="400" font-size="32" x="-273.333" y="261">};</tspan><tspan fill="#353A3D" font-family="DengXian,DengXian_MSFontService,sans-serif" font-size="32" x="-721.114" y="-1360">总线注册流程：</tspan><tspan fill="#353A3D" font-size="32" x="-1016.61" y="-1322">bus_register</tspan><tspan fill="#353A3D" font-size="32" x="-786.614" y="-1322">(&amp;</tspan><tspan fill="#353A3D" font-size="32" x="-748.281" y="-1322">platform_bus_type</tspan><tspan fill="#353A3D" font-size="32" x="-422.448" y="-1322">)</tspan><tspan font-family="DengXian,DengXian_MSFontService,sans-serif" font-size="32" x="-1549.66" y="-584">驱动注册流程：</tspan><tspan font-size="32" x="-1942.66" y="-546">platform_driver_register</tspan><tspan font-size="32" x="-1482.66" y="-546">(&amp;</tspan><tspan font-size="32" x="-1444.33" y="-546">globalfifo_driver</tspan><tspan font-size="32" x="-1118.5" y="-546">)</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-1942.66" y="-508">driver_register</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-1655.16" y="-508">(&amp;(</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-1597.66" y="-508">globalfifo_driver.driver</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-1137.66" y="-508">))</tspan><tspan fill="#333333" font-weight="400" font-size="32" x="-1942.66" y="-470">bus_add_driver</tspan><tspan fill="#333333" font-weight="400" font-size="32" x="-1674.33" y="-470">(&amp;(</tspan><tspan fill="#333333" font-weight="400" font-size="32" x="-1616.83" y="-470">globalfifo_driver.driver</tspan><tspan fill="#333333" font-weight="400" font-size="32" x="-1156.83" y="-470">))</tspan><tspan font-weight="400" font-size="32" x="-1942.66" y="-393">driver_attach</tspan><tspan font-weight="400" font-size="32" x="-1693.5" y="-393">(&amp;(</tspan><tspan font-weight="400" font-size="32" x="-1636" y="-393">globalfifo_driver.driver</tspan><tspan font-weight="400" font-size="32" x="-1176" y="-393">))</tspan><tspan font-weight="400" font-size="32" x="-1942.66" y="-354">driver_match_device</tspan><tspan font-weight="400" font-size="32" x="-1578.5" y="-354">(</tspan><tspan font-weight="400" font-size="32" x="-1559.33" y="-354">drv</tspan><tspan font-weight="400" font-size="32" x="-1501.83" y="-354">, dev)  </tspan><tspan font-family="Wingdings,Wingdings_MSFontService,sans-serif" font-weight="400" font-size="32" x="-1348.5" y="-354"></tspan><tspan font-weight="400" font-size="32" x="-1298" y="-354">platform_match</tspan><tspan font-weight="400" font-size="32" x="-1029.66" y="-354">()</tspan><tspan font-weight="400" font-size="32" x="-1942.66" y="-315">device_driver_attach</tspan><tspan font-weight="400" font-size="32" x="-1559.33" y="-315">(</tspan><tspan font-weight="400" font-size="32" x="-1540.16" y="-315">drv</tspan><tspan font-weight="400" font-size="32" x="-1482.66" y="-315">, dev)</tspan><tspan font-family="Wingdings,Wingdings_MSFontService,sans-serif" font-weight="400" font-size="32" x="-1348.5" y="-315"></tspan><tspan font-weight="400" font-size="32" x="-1942.66" y="-278">driver_probe_device</tspan><tspan font-weight="400" font-size="32" x="-1578.5" y="-278">(</tspan><tspan font-weight="400" font-size="32" x="-1559.33" y="-278">drv</tspan><tspan font-weight="400" font-size="32" x="-1501.83" y="-278">, dev)</tspan><tspan font-family="DengXian,DengXian_MSFontService,sans-serif" font-size="32" x="46.5002" y="-570">设备注册流程：</tspan><tspan font-size="32" x="-342.333" y="-532">platform_device_register</tspan><tspan font-size="32" x="117.667" y="-532">(&amp;</tspan><tspan font-size="32" x="156" y="-532">globalfifo_device</tspan><tspan font-size="32" x="481.833" y="-532">)</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-342.333" y="-494">device_initialize</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-16.4998" y="-494">(</tspan><tspan font-weight="400" font-size="32" x="2.66675" y="-494">&amp;</tspan><tspan font-weight="400" font-size="32" x="21.8335" y="-494">globalfifo_device.</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="366.833" y="-494">dev</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="424.333" y="-494">)</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-342.333" y="-456">platform_device_add</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="21.8335" y="-456">(</tspan><tspan font-weight="400" font-size="32" x="41.0002" y="-456">&amp;</tspan><tspan font-weight="400" font-size="32" x="60.1667" y="-456">globalfifo_device</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="386" y="-456">)</tspan><tspan fill="#333333" font-weight="400" font-size="32" x="-342.333" y="-417">device_add</tspan><tspan fill="#333333" font-weight="400" font-size="32" x="-150.667" y="-417">(&amp;(</tspan><tspan fill="#333333" font-weight="400" font-size="32" x="-93.1665" y="-417">globalfifo_device.dev</tspan><tspan fill="#333333" font-weight="400" font-size="32" x="309.333" y="-417">))</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-342.333" y="-379">bus_add_device</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-73.9998" y="-379">(&amp;(</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-16.4998" y="-379">globalfifo_device.dev</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="386" y="-379">))</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-342.333" y="-340">bus_probe_device</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-35.6665" y="-340">(&amp;(</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="21.8335" y="-340">globalfifo_device.dev</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="424.333" y="-340">))</tspan><tspan font-weight="400" font-size="32" x="-342.333" y="-264">device_initial_probe</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="41.0002" y="-264">(&amp;(</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="98.5002" y="-264">globalfifo_device.dev</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="501" y="-264">))</tspan><tspan font-weight="400" font-size="32" x="-342.333" y="-225">__</tspan><tspan font-weight="400" font-size="32" x="-304" y="-225">device_attach</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="-54.8333" y="-225">(&amp;(</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="2.66675" y="-225">globalfifo_device.dev</tspan><tspan fill="#353A3D" font-weight="400" font-size="32" x="405.167" y="-225">), </tspan><tspan font-weight="400" font-size="32" x="462.667" y="-225">true)</tspan><tspan font-weight="400" font-size="32" x="-342.333" y="-187">__</tspan><tspan font-weight="400" font-size="32" x="-304" y="-187">device_attach_driver</tspan><tspan font-weight="400" font-size="32" x="79.3335" y="-187">(&amp;(</tspan><tspan font-weight="400" font-size="32" x="136.833" y="-187">globalfifo_driver.driver</tspan><tspan font-weight="400" font-size="32" x="596.833" y="-187">))</tspan><tspan font-weight="400" font-size="32" x="-342.333" y="-148">driver_match_device</tspan><tspan font-weight="400" font-size="32" x="21.8335" y="-148">(</tspan><tspan font-weight="400" font-size="32" x="41.0002" y="-148">drv</tspan><tspan font-weight="400" font-size="32" x="98.5002" y="-148">, dev)  </tspan><tspan font-family="Wingdings,Wingdings_MSFontService,sans-serif" font-weight="400" font-size="32" x="251.833" y="-148"></tspan><tspan font-weight="400" font-size="32" x="302.333" y="-148">platform_match</tspan><tspan font-weight="400" font-size="32" x="570.667" y="-148">()</tspan><tspan font-weight="400" font-size="32" x="-342.333" y="-110">driver_probe_device</tspan><tspan font-weight="400" font-size="32" x="21.8335" y="-110">(</tspan><tspan font-weight="400" font-size="32" x="41.0002" y="-110">drv</tspan><tspan font-weight="400" font-size="32" x="98.5002" y="-110">, dev)</tspan></text><path d="M2.23733-0.662434 192.928 643.382 188.453 644.707-2.23733 0.662434ZM196.74 639.82 196.652 664.18 183.316 643.794Z" fill="#7F6000" transform="matrix(1 0 0 -1 1522.5 1845.68)"/><path d="M2301.92 2062.67 2067.76 1202.37 2072.27 1201.15 2306.42 2061.45ZM2063.87 1205.85 2064.5 1181.5 2077.38 1202.18Z" fill="#7F6000"/><path d="M1233.75 1937.87 1298.87 2171.36 1294.37 2172.61 1229.25 1939.13ZM1302.74 2167.86 1302.26 2192.21 1289.25 2171.62Z" fill="#FFC000"/><path d="M0.255156-2.31934 817.381 87.5747 816.871 92.2133-0.255156 2.31934ZM815.572 82.6809 838 92.1904 814.041 96.5969Z" fill="#FFC000" transform="matrix(-1 -8.74228e-08 -8.74228e-08 1 2290.5 2100.5)"/></g></svg>